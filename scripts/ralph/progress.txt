# Ralph Progress Log
Started: Sun Jan 18 15:32:16 EST 2026
---

## 2026-01-18 - US-001: Rename /import to /create
- Moved src/app/import/ directory to src/app/create/
- Updated layout.tsx metadata title from 'Import Your Workout Program | BAIsics' to 'Create Your Program | baisics'
- Updated OpenGraph title to match
- Renamed layout function from ImportLayout to CreateLayout
- Updated callback URL in page.tsx from '/import?complete=true' to '/create?complete=true'
- **Learnings for future iterations:**
  - Next.js App Router uses directory names as routes - renaming directory automatically changes route
  - API routes at /api/programs/import remain unchanged (different concern)
  - sessionStorage callback URLs need updating when routes change
---

## 2026-01-18 - US-002: Update /tools/import-program redirect
- Changed redirect from '/import' to '/create' in src/app/tools/import-program/page.tsx
- Updated metadata title to 'Create Your Workout Program | baisics' (lowercase 'baisics' per style guide)
- Updated metadata description to mention creating programs, not just importing
- Updated OpenGraph title and description to match
- Files changed: src/app/tools/import-program/page.tsx
- **Learnings for future iterations:**
  - This route exists as a legacy URL for SEO/bookmarks - redirects to new /create route
  - Keep metadata updated even on redirect pages for search engine discovery
  - Style guide specifies lowercase 'baisics' in titles
---

## 2026-01-18 - US-003: Add text input mode to /create
- Added inputMode state ('text' | 'file') defaulting to 'text'
- Added textInput state to hold pasted text content
- Created toggle UI with two tabs: "Paste Text" and "Upload File"
- Text mode shows a textarea with example placeholder showing workout format
- File mode shows existing dropzone UI
- Added processText() function to send text to API
- Added handleTextSubmit() to process text input
- Updated handleStartOver() to clear text input
- Bulk mode toggle only shows when in file mode (coaches only)
- Updated page description to mention both text and file options
- Files changed: src/app/create/page.tsx
- **Learnings for future iterations:**
  - Type icon imported from lucide-react for text input toggle
  - API needs US-004 update to actually accept the text field - frontend is ready
  - Bulk import (coaches) only makes sense for file mode, so hidden in text mode
---

## 2026-01-18 - US-004: Update /api/programs/import to accept text input
- Modified POST handler to accept optional `text` field in request body
- Added branch for text input mode - skips file validation entirely
- Text input sent directly to AI with workoutFilePrompt
- Added validation for empty text input
- Returns error if neither text nor file is provided
- Same response format as file uploads (parsed JSON from AI)
- Files changed: src/app/api/programs/import/route.ts
- **Learnings for future iterations:**
  - API has `@ts-nocheck` at top - TypeScript errors are suppressed
  - `sendMessage` utility handles AI calls, accepts message array and role
  - workoutFilePrompt is reused for all input types (text, DOCX, PDF, images)
  - Text input path is simpler - no base64, no file validation, no file saving
---

## 2026-01-18 - US-005: Add 'Start Blank' card to /templates
- Added full-width featured card before templates grid
- Card uses coral gradient background (coral to coralDark) for visual distinction
- Displays "Start Blank" title and "Build your own program from scratch" subtitle
- Links to /create?blank=true
- Includes hover effect with shadow and animated arrow
- Responsive: stacked on mobile, horizontal layout on md+
- Files changed: src/app/templates/page.tsx
- **Learnings for future iterations:**
  - COLORS constant already defined in templates/page.tsx - reuse it
  - Template cards use navy gradient; coral gradient provides contrast
  - Use CSS gradient via style prop: `background: linear-gradient(...)`
  - Card placed before grid div, not inside it (full width vs grid columns)
---
